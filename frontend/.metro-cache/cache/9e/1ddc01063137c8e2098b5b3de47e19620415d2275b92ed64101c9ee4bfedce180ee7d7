{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":49,"index":153}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":40,"index":194}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react-native-get-random-values","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":195},"end":{"line":5,"column":40,"index":235}}],"key":"3kc6sqkMNpp2bAHRSje4HY23hC8=","exportNames":["*"],"imports":1}},{"name":"uuid","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":236},"end":{"line":6,"column":36,"index":272}}],"key":"K6NfiWYjGbCRgJahsbk3i3NzTqQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useStore\", {\n    enumerable: true,\n    get: function () {\n      return useStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  require(_dependencyMap[5], \"react-native-get-random-values\");\n  var _uuid = require(_dependencyMap[6], \"uuid\");\n  // Helper for secure storage (works on web and native)\n  var secureStorage = {\n    getItem(key) {\n      return (0, _asyncToGenerator.default)(function* () {\n        if (_reactNative.Platform.OS === 'web') {\n          return AsyncStorage.default.getItem(key);\n        }\n        try {\n          return yield SecureStore.getItemAsync(key);\n        } catch {\n          return AsyncStorage.default.getItem(key);\n        }\n      })();\n    },\n    setItem(key, value) {\n      return (0, _asyncToGenerator.default)(function* () {\n        if (_reactNative.Platform.OS === 'web') {\n          yield AsyncStorage.default.setItem(key, value);\n          return;\n        }\n        try {\n          yield SecureStore.setItemAsync(key, value);\n        } catch {\n          yield AsyncStorage.default.setItem(key, value);\n        }\n      })();\n    }\n  };\n  var useStore = (0, _zustand.create)((set, get) => ({\n    // Initial state\n    deviceId: null,\n    language: 'es',\n    subscriptionStatus: null,\n    isLoading: false,\n    // Initialize device ID (create if not exists)\n    initializeDevice: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var deviceId = yield secureStorage.getItem('agora_device_id');\n          if (!deviceId) {\n            deviceId = (0, _uuid.v4)();\n            yield secureStorage.setItem('agora_device_id', deviceId);\n          }\n\n          // Load saved language\n          var savedLang = yield AsyncStorage.default.getItem('agora_language');\n          set({\n            deviceId,\n            language: savedLang || 'es'\n          });\n          return deviceId;\n        } catch (error) {\n          console.error('Error initializing device:', error);\n          var fallbackId = (0, _uuid.v4)();\n          set({\n            deviceId: fallbackId\n          });\n          return fallbackId;\n        }\n      });\n      return function initializeDevice() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    // Get device ID (initialize if needed)\n    getDeviceId: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        var state = get();\n        if (state.deviceId) return state.deviceId;\n        return state.initializeDevice();\n      });\n      return function getDeviceId() {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    // Set language\n    setLanguage: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (lang) {\n        yield AsyncStorage.default.setItem('agora_language', lang);\n        set({\n          language: lang\n        });\n      });\n      return function setLanguage(_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    // Set subscription status\n    setSubscriptionStatus: status => {\n      set({\n        subscriptionStatus: status\n      });\n    },\n    // Set loading state\n    setLoading: loading => {\n      set({\n        isLoading: loading\n      });\n    }\n  }));\n});","lineCount":143,"map":[[27,2,58,0,"Object"],[27,8,58,0],[27,9,58,0,"defineProperty"],[27,23,58,0],[27,24,58,0,"exports"],[27,31,58,0],[28,4,58,0,"enumerable"],[28,14,58,0],[29,4,58,0,"get"],[29,7,58,0],[29,18,58,0,"get"],[29,19,58,0],[30,6,58,0],[30,13,58,0,"useStore"],[30,21,58,0],[31,4,58,0],[32,2,58,0],[33,2,114,4],[33,6,114,4,"_babelRuntimeHelpersAsyncToGenerator"],[33,42,114,4],[33,45,114,4,"require"],[33,52,114,4],[33,53,114,4,"_dependencyMap"],[33,67,114,4],[34,2,114,4],[34,6,114,4,"_asyncToGenerator"],[34,23,114,4],[34,26,114,4,"_interopDefault"],[34,41,114,4],[34,42,114,4,"_babelRuntimeHelpersAsyncToGenerator"],[34,78,114,4],[35,2,1,0],[35,6,1,0,"_zustand"],[35,14,1,0],[35,17,1,0,"require"],[35,24,1,0],[35,25,1,0,"_dependencyMap"],[35,39,1,0],[36,2,2,0],[36,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[36,42,2,0],[36,45,2,0,"require"],[36,52,2,0],[36,53,2,0,"_dependencyMap"],[36,67,2,0],[37,2,2,0],[37,6,2,0,"AsyncStorage"],[37,18,2,0],[37,21,2,0,"_interopDefault"],[37,36,2,0],[37,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[37,73,2,0],[38,2,3,0],[38,6,3,0,"_expoSecureStore"],[38,22,3,0],[38,25,3,0,"require"],[38,32,3,0],[38,33,3,0,"_dependencyMap"],[38,47,3,0],[39,2,3,0],[39,6,3,0,"SecureStore"],[39,17,3,0],[39,20,3,0,"_interopNamespace"],[39,37,3,0],[39,38,3,0,"_expoSecureStore"],[39,54,3,0],[40,2,4,0],[40,6,4,0,"_reactNative"],[40,18,4,0],[40,21,4,0,"require"],[40,28,4,0],[40,29,4,0,"_dependencyMap"],[40,43,4,0],[41,2,5,0,"require"],[41,9,5,0],[41,10,5,0,"_dependencyMap"],[41,24,5,0],[42,2,6,0],[42,6,6,0,"_uuid"],[42,11,6,0],[42,14,6,0,"require"],[42,21,6,0],[42,22,6,0,"_dependencyMap"],[42,36,6,0],[43,2,33,0],[44,2,34,0],[44,6,34,6,"secureStorage"],[44,19,34,19],[44,22,34,22],[45,4,35,8,"getItem"],[45,11,35,15,"getItem"],[45,12,35,16,"key"],[45,15,35,27],[45,17,35,53],[46,6,35,53],[46,17,35,53,"_asyncToGenerator"],[46,34,35,53],[46,35,35,53,"default"],[46,42,35,53],[47,8,36,4],[47,12,36,8,"Platform"],[47,24,36,16],[47,25,36,16,"Platform"],[47,33,36,16],[47,34,36,17,"OS"],[47,36,36,19],[47,41,36,24],[47,46,36,29],[47,48,36,31],[48,10,37,6],[48,17,37,13,"AsyncStorage"],[48,29,37,25],[48,30,37,25,"default"],[48,37,37,25],[48,38,37,26,"getItem"],[48,45,37,33],[48,46,37,34,"key"],[48,49,37,37],[48,50,37,38],[49,8,38,4],[50,8,39,4],[50,12,39,8],[51,10,40,6],[51,23,40,19,"SecureStore"],[51,34,40,30],[51,35,40,31,"getItemAsync"],[51,47,40,43],[51,48,40,44,"key"],[51,51,40,47],[51,52,40,48],[52,8,41,4],[52,9,41,5],[52,10,41,6],[52,16,41,12],[53,10,42,6],[53,17,42,13,"AsyncStorage"],[53,29,42,25],[53,30,42,25,"default"],[53,37,42,25],[53,38,42,26,"getItem"],[53,45,42,33],[53,46,42,34,"key"],[53,49,42,37],[53,50,42,38],[54,8,43,4],[55,6,43,5],[56,4,44,2],[56,5,44,3],[57,4,45,8,"setItem"],[57,11,45,15,"setItem"],[57,12,45,16,"key"],[57,15,45,27],[57,17,45,29,"value"],[57,22,45,42],[57,24,45,59],[58,6,45,59],[58,17,45,59,"_asyncToGenerator"],[58,34,45,59],[58,35,45,59,"default"],[58,42,45,59],[59,8,46,4],[59,12,46,8,"Platform"],[59,24,46,16],[59,25,46,16,"Platform"],[59,33,46,16],[59,34,46,17,"OS"],[59,36,46,19],[59,41,46,24],[59,46,46,29],[59,48,46,31],[60,10,47,6],[60,16,47,12,"AsyncStorage"],[60,28,47,24],[60,29,47,24,"default"],[60,36,47,24],[60,37,47,25,"setItem"],[60,44,47,32],[60,45,47,33,"key"],[60,48,47,36],[60,50,47,38,"value"],[60,55,47,43],[60,56,47,44],[61,10,48,6],[62,8,49,4],[63,8,50,4],[63,12,50,8],[64,10,51,6],[64,16,51,12,"SecureStore"],[64,27,51,23],[64,28,51,24,"setItemAsync"],[64,40,51,36],[64,41,51,37,"key"],[64,44,51,40],[64,46,51,42,"value"],[64,51,51,47],[64,52,51,48],[65,8,52,4],[65,9,52,5],[65,10,52,6],[65,16,52,12],[66,10,53,6],[66,16,53,12,"AsyncStorage"],[66,28,53,24],[66,29,53,24,"default"],[66,36,53,24],[66,37,53,25,"setItem"],[66,44,53,32],[66,45,53,33,"key"],[66,48,53,36],[66,50,53,38,"value"],[66,55,53,43],[66,56,53,44],[67,8,54,4],[68,6,54,5],[69,4,55,2],[70,2,56,0],[70,3,56,1],[71,2,58,7],[71,6,58,13,"useStore"],[71,14,58,21],[71,17,58,24],[71,21,58,24,"create"],[71,29,58,30],[71,30,58,30,"create"],[71,36,58,30],[71,38,58,41],[71,39,58,42,"set"],[71,42,58,45],[71,44,58,47,"get"],[71,47,58,50],[71,53,58,56],[72,4,59,2],[73,4,60,2,"deviceId"],[73,12,60,10],[73,14,60,12],[73,18,60,16],[74,4,61,2,"language"],[74,12,61,10],[74,14,61,12],[74,18,61,16],[75,4,62,2,"subscriptionStatus"],[75,22,62,20],[75,24,62,22],[75,28,62,26],[76,4,63,2,"isLoading"],[76,13,63,11],[76,15,63,13],[76,20,63,18],[77,4,65,2],[78,4,66,2,"initializeDevice"],[78,20,66,18],[79,6,66,18],[79,10,66,18,"_ref"],[79,14,66,18],[79,21,66,18,"_asyncToGenerator"],[79,38,66,18],[79,39,66,18,"default"],[79,46,66,18],[79,48,66,20],[79,61,66,32],[80,8,67,4],[80,12,67,8],[81,10,68,6],[81,14,68,10,"deviceId"],[81,22,68,18],[81,31,68,27,"secureStorage"],[81,44,68,40],[81,45,68,41,"getItem"],[81,52,68,48],[81,53,68,49],[81,70,68,66],[81,71,68,67],[82,10,70,6],[82,14,70,10],[82,15,70,11,"deviceId"],[82,23,70,19],[82,25,70,21],[83,12,71,8,"deviceId"],[83,20,71,16],[83,23,71,19],[83,27,71,19,"uuidv4"],[83,32,71,25],[83,33,71,25,"v4"],[83,35,71,25],[83,37,71,26],[83,38,71,27],[84,12,72,8],[84,18,72,14,"secureStorage"],[84,31,72,27],[84,32,72,28,"setItem"],[84,39,72,35],[84,40,72,36],[84,57,72,53],[84,59,72,55,"deviceId"],[84,67,72,63],[84,68,72,64],[85,10,73,6],[87,10,75,6],[88,10,76,6],[88,14,76,12,"savedLang"],[88,23,76,21],[88,32,76,30,"AsyncStorage"],[88,44,76,42],[88,45,76,42,"default"],[88,52,76,42],[88,53,76,43,"getItem"],[88,60,76,50],[88,61,76,51],[88,77,76,67],[88,78,76,68],[89,10,78,6,"set"],[89,13,78,9],[89,14,78,10],[90,12,79,8,"deviceId"],[90,20,79,16],[91,12,80,8,"language"],[91,20,80,16],[91,22,80,18,"savedLang"],[91,31,80,27],[91,35,80,31],[92,10,81,6],[92,11,81,7],[92,12,81,8],[93,10,83,6],[93,17,83,13,"deviceId"],[93,25,83,21],[94,8,84,4],[94,9,84,5],[94,10,84,6],[94,17,84,13,"error"],[94,22,84,18],[94,24,84,20],[95,10,85,6,"console"],[95,17,85,13],[95,18,85,14,"error"],[95,23,85,19],[95,24,85,20],[95,52,85,48],[95,54,85,50,"error"],[95,59,85,55],[95,60,85,56],[96,10,86,6],[96,14,86,12,"fallbackId"],[96,24,86,22],[96,27,86,25],[96,31,86,25,"uuidv4"],[96,36,86,31],[96,37,86,31,"v4"],[96,39,86,31],[96,41,86,32],[96,42,86,33],[97,10,87,6,"set"],[97,13,87,9],[97,14,87,10],[98,12,87,12,"deviceId"],[98,20,87,20],[98,22,87,22,"fallbackId"],[99,10,87,33],[99,11,87,34],[99,12,87,35],[100,10,88,6],[100,17,88,13,"fallbackId"],[100,27,88,23],[101,8,89,4],[102,6,90,2],[102,7,90,3],[103,6,90,3],[103,22,66,2,"initializeDevice"],[103,38,66,18,"initializeDevice"],[103,39,66,18],[104,8,66,18],[104,15,66,18,"_ref"],[104,19,66,18],[104,20,66,18,"apply"],[104,25,66,18],[104,32,66,18,"arguments"],[104,41,66,18],[105,6,66,18],[106,4,66,18],[106,7,90,3],[107,4,92,2],[108,4,93,2,"getDeviceId"],[108,15,93,13],[109,6,93,13],[109,10,93,13,"_ref2"],[109,15,93,13],[109,22,93,13,"_asyncToGenerator"],[109,39,93,13],[109,40,93,13,"default"],[109,47,93,13],[109,49,93,15],[109,62,93,27],[110,8,94,4],[110,12,94,10,"state"],[110,17,94,15],[110,20,94,18,"get"],[110,23,94,21],[110,24,94,22],[110,25,94,23],[111,8,95,4],[111,12,95,8,"state"],[111,17,95,13],[111,18,95,14,"deviceId"],[111,26,95,22],[111,28,95,24],[111,35,95,31,"state"],[111,40,95,36],[111,41,95,37,"deviceId"],[111,49,95,45],[112,8,96,4],[112,15,96,11,"state"],[112,20,96,16],[112,21,96,17,"initializeDevice"],[112,37,96,33],[112,38,96,34],[112,39,96,35],[113,6,97,2],[113,7,97,3],[114,6,97,3],[114,22,93,2,"getDeviceId"],[114,33,93,13,"getDeviceId"],[114,34,93,13],[115,8,93,13],[115,15,93,13,"_ref2"],[115,20,93,13],[115,21,93,13,"apply"],[115,26,93,13],[115,33,93,13,"arguments"],[115,42,93,13],[116,6,93,13],[117,4,93,13],[117,7,97,3],[118,4,99,2],[119,4,100,2,"setLanguage"],[119,15,100,13],[120,6,100,13],[120,10,100,13,"_ref3"],[120,15,100,13],[120,22,100,13,"_asyncToGenerator"],[120,39,100,13],[120,40,100,13,"default"],[120,47,100,13],[120,49,100,15],[120,60,100,22,"lang"],[120,64,100,34],[120,66,100,39],[121,8,101,4],[121,14,101,10,"AsyncStorage"],[121,26,101,22],[121,27,101,22,"default"],[121,34,101,22],[121,35,101,23,"setItem"],[121,42,101,30],[121,43,101,31],[121,59,101,47],[121,61,101,49,"lang"],[121,65,101,53],[121,66,101,54],[122,8,102,4,"set"],[122,11,102,7],[122,12,102,8],[123,10,102,10,"language"],[123,18,102,18],[123,20,102,20,"lang"],[124,8,102,25],[124,9,102,26],[124,10,102,27],[125,6,103,2],[125,7,103,3],[126,6,103,3],[126,22,100,2,"setLanguage"],[126,33,100,13,"setLanguage"],[126,34,100,13,"_x"],[126,36,100,13],[127,8,100,13],[127,15,100,13,"_ref3"],[127,20,100,13],[127,21,100,13,"apply"],[127,26,100,13],[127,33,100,13,"arguments"],[127,42,100,13],[128,6,100,13],[129,4,100,13],[129,7,103,3],[130,4,105,2],[131,4,106,2,"setSubscriptionStatus"],[131,25,106,23],[131,27,106,26,"status"],[131,33,106,52],[131,37,106,57],[132,6,107,4,"set"],[132,9,107,7],[132,10,107,8],[133,8,107,10,"subscriptionStatus"],[133,26,107,28],[133,28,107,30,"status"],[134,6,107,37],[134,7,107,38],[134,8,107,39],[135,4,108,2],[135,5,108,3],[136,4,110,2],[137,4,111,2,"setLoading"],[137,14,111,12],[137,16,111,15,"loading"],[137,23,111,31],[137,27,111,36],[138,6,112,4,"set"],[138,9,112,7],[138,10,112,8],[139,8,112,10,"isLoading"],[139,17,112,19],[139,19,112,21,"loading"],[140,6,112,29],[140,7,112,30],[140,8,112,31],[141,4,113,2],[142,2,114,0],[142,3,114,1],[142,4,114,2],[142,5,114,3],[143,0,114,4],[143,3]],"functionMap":{"names":["<global>","secureStorage.getItem","secureStorage.setItem","create$argument_0","initializeDevice","getDeviceId","setLanguage","setSubscriptionStatus","setLoading"],"mappings":"AAA;ECkC;GDS;EEC;GFU;yCGG;oBCQ;GDwB;eEG;GFI;eGG;GHG;yBIG;GJE;cKG;GLE;EHC"},"hasCjsExports":false},"type":"js/module"}]}