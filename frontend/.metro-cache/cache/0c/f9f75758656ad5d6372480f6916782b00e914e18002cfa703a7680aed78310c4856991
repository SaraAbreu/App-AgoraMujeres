{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../store/useStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":45,"index":103}}],"key":"ASBgiPI21VzTbw57ZrWjZ5L1SH8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":56,"index":160}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useTrialCheck\", {\n    enumerable: true,\n    get: function () {\n      return useTrialCheck;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _storeUseStore = require(_dependencyMap[1], \"../store/useStore\");\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  const useTrialCheck = () => {\n    _s();\n    const {\n      deviceId,\n      subscriptionStatus,\n      setSubscriptionStatus\n    } = (0, _storeUseStore.useStore)();\n    const [remainingSeconds, setRemainingSeconds] = (0, _react.useState)(7200);\n    const checkTrial = (0, _react.useCallback)(async () => {\n      if (!deviceId) return;\n      try {\n        const status = await (0, _servicesApi.getSubscriptionStatus)(deviceId);\n        setSubscriptionStatus(status);\n        setRemainingSeconds(status.trial_remaining_seconds || 0);\n      } catch (error) {\n        console.error('Error checking trial status:', error);\n      }\n    }, [deviceId, setSubscriptionStatus]);\n    (0, _react.useEffect)(() => {\n      checkTrial();\n    }, [checkTrial]);\n\n    // Update remaining time every minute\n    (0, _react.useEffect)(() => {\n      if (subscriptionStatus?.status !== 'trial') return;\n      const interval = setInterval(() => {\n        setRemainingSeconds(prev => {\n          const newValue = Math.max(0, prev - 60);\n          return newValue;\n        });\n      }, 60000); // Every minute\n\n      return () => clearInterval(interval);\n    }, [subscriptionStatus?.status]);\n    const formatRemainingTime = () => {\n      const hours = Math.floor(remainingSeconds / 3600);\n      const minutes = Math.floor(remainingSeconds % 3600 / 60);\n      return `${hours}h ${minutes}m`;\n    };\n    return {\n      isTrialExpired: subscriptionStatus?.status === 'expired' || remainingSeconds <= 0,\n      isTrialActive: subscriptionStatus?.status === 'trial' && remainingSeconds > 0,\n      isSubscribed: subscriptionStatus?.status === 'active',\n      remainingTime: formatRemainingTime(),\n      remainingSeconds,\n      checkTrial\n    };\n  };\n  _s(useTrialCheck, \"j34pF9/iAuO4S20GWSBqxUgYPfE=\", false, function () {\n    return [_storeUseStore.useStore];\n  });\n});","lineCount":68,"map":[[8,2,14,0,"Object"],[8,8,14,0],[8,9,14,0,"defineProperty"],[8,23,14,0],[8,24,14,0,"exports"],[8,31,14,0],[9,4,14,0,"enumerable"],[9,14,14,0],[10,4,14,0,"get"],[10,7,14,0],[10,18,14,0,"get"],[10,19,14,0],[11,6,14,0],[11,13,14,0,"useTrialCheck"],[11,26,14,0],[12,4,14,0],[13,2,14,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_storeUseStore"],[15,20,2,0],[15,23,2,0,"require"],[15,30,2,0],[15,31,2,0,"_dependencyMap"],[15,45,2,0],[16,2,3,0],[16,6,3,0,"_servicesApi"],[16,18,3,0],[16,21,3,0,"require"],[16,28,3,0],[16,29,3,0,"_dependencyMap"],[16,43,3,0],[17,2,14,7],[17,8,14,13,"useTrialCheck"],[17,21,14,26],[17,24,14,29,"useTrialCheck"],[17,25,14,29],[17,30,14,53],[18,4,14,53,"_s"],[18,6,14,53],[19,4,15,2],[19,10,15,8],[20,6,15,10,"deviceId"],[20,14,15,18],[21,6,15,20,"subscriptionStatus"],[21,24,15,38],[22,6,15,40,"setSubscriptionStatus"],[23,4,15,62],[23,5,15,63],[23,8,15,66],[23,12,15,66,"useStore"],[23,26,15,74],[23,27,15,74,"useStore"],[23,35,15,74],[23,37,15,75],[23,38,15,76],[24,4,16,2],[24,10,16,8],[24,11,16,9,"remainingSeconds"],[24,27,16,25],[24,29,16,27,"setRemainingSeconds"],[24,48,16,46],[24,49,16,47],[24,52,16,50],[24,56,16,50,"useState"],[24,62,16,58],[24,63,16,58,"useState"],[24,71,16,58],[24,73,16,59],[24,77,16,63],[24,78,16,64],[25,4,18,2],[25,10,18,8,"checkTrial"],[25,20,18,18],[25,23,18,21],[25,27,18,21,"useCallback"],[25,33,18,32],[25,34,18,32,"useCallback"],[25,45,18,32],[25,47,18,33],[25,59,18,45],[26,6,19,4],[26,10,19,8],[26,11,19,9,"deviceId"],[26,19,19,17],[26,21,19,19],[27,6,21,4],[27,10,21,8],[28,8,22,6],[28,14,22,12,"status"],[28,20,22,18],[28,23,22,21],[28,29,22,27],[28,33,22,27,"getSubscriptionStatus"],[28,45,22,48],[28,46,22,48,"getSubscriptionStatus"],[28,67,22,48],[28,69,22,49,"deviceId"],[28,77,22,57],[28,78,22,58],[29,8,23,6,"setSubscriptionStatus"],[29,29,23,27],[29,30,23,28,"status"],[29,36,23,34],[29,37,23,35],[30,8,24,6,"setRemainingSeconds"],[30,27,24,25],[30,28,24,26,"status"],[30,34,24,32],[30,35,24,33,"trial_remaining_seconds"],[30,58,24,56],[30,62,24,60],[30,63,24,61],[30,64,24,62],[31,6,25,4],[31,7,25,5],[31,8,25,6],[31,15,25,13,"error"],[31,20,25,18],[31,22,25,20],[32,8,26,6,"console"],[32,15,26,13],[32,16,26,14,"error"],[32,21,26,19],[32,22,26,20],[32,52,26,50],[32,54,26,52,"error"],[32,59,26,57],[32,60,26,58],[33,6,27,4],[34,4,28,2],[34,5,28,3],[34,7,28,5],[34,8,28,6,"deviceId"],[34,16,28,14],[34,18,28,16,"setSubscriptionStatus"],[34,39,28,37],[34,40,28,38],[34,41,28,39],[35,4,30,2],[35,8,30,2,"useEffect"],[35,14,30,11],[35,15,30,11,"useEffect"],[35,24,30,11],[35,26,30,12],[35,32,30,18],[36,6,31,4,"checkTrial"],[36,16,31,14],[36,17,31,15],[36,18,31,16],[37,4,32,2],[37,5,32,3],[37,7,32,5],[37,8,32,6,"checkTrial"],[37,18,32,16],[37,19,32,17],[37,20,32,18],[39,4,34,2],[40,4,35,2],[40,8,35,2,"useEffect"],[40,14,35,11],[40,15,35,11,"useEffect"],[40,24,35,11],[40,26,35,12],[40,32,35,18],[41,6,36,4],[41,10,36,8,"subscriptionStatus"],[41,28,36,26],[41,30,36,28,"status"],[41,36,36,34],[41,41,36,39],[41,48,36,46],[41,50,36,48],[42,6,38,4],[42,12,38,10,"interval"],[42,20,38,18],[42,23,38,21,"setInterval"],[42,34,38,32],[42,35,38,33],[42,41,38,39],[43,8,39,6,"setRemainingSeconds"],[43,27,39,25],[43,28,39,27,"prev"],[43,32,39,31],[43,36,39,36],[44,10,40,8],[44,16,40,14,"newValue"],[44,24,40,22],[44,27,40,25,"Math"],[44,31,40,29],[44,32,40,30,"max"],[44,35,40,33],[44,36,40,34],[44,37,40,35],[44,39,40,37,"prev"],[44,43,40,41],[44,46,40,44],[44,48,40,46],[44,49,40,47],[45,10,41,8],[45,17,41,15,"newValue"],[45,25,41,23],[46,8,42,6],[46,9,42,7],[46,10,42,8],[47,6,43,4],[47,7,43,5],[47,9,43,7],[47,14,43,12],[47,15,43,13],[47,16,43,14],[47,17,43,15],[49,6,45,4],[49,13,45,11],[49,19,45,17,"clearInterval"],[49,32,45,30],[49,33,45,31,"interval"],[49,41,45,39],[49,42,45,40],[50,4,46,2],[50,5,46,3],[50,7,46,5],[50,8,46,6,"subscriptionStatus"],[50,26,46,24],[50,28,46,26,"status"],[50,34,46,32],[50,35,46,33],[50,36,46,34],[51,4,48,2],[51,10,48,8,"formatRemainingTime"],[51,29,48,27],[51,32,48,30,"formatRemainingTime"],[51,33,48,30],[51,38,48,44],[52,6,49,4],[52,12,49,10,"hours"],[52,17,49,15],[52,20,49,18,"Math"],[52,24,49,22],[52,25,49,23,"floor"],[52,30,49,28],[52,31,49,29,"remainingSeconds"],[52,47,49,45],[52,50,49,48],[52,54,49,52],[52,55,49,53],[53,6,50,4],[53,12,50,10,"minutes"],[53,19,50,17],[53,22,50,20,"Math"],[53,26,50,24],[53,27,50,25,"floor"],[53,32,50,30],[53,33,50,32,"remainingSeconds"],[53,49,50,48],[53,52,50,51],[53,56,50,55],[53,59,50,59],[53,61,50,61],[53,62,50,62],[54,6,51,4],[54,13,51,11],[54,16,51,14,"hours"],[54,21,51,19],[54,26,51,24,"minutes"],[54,33,51,31],[54,36,51,34],[55,4,52,2],[55,5,52,3],[56,4,54,2],[56,11,54,9],[57,6,55,4,"isTrialExpired"],[57,20,55,18],[57,22,55,20,"subscriptionStatus"],[57,40,55,38],[57,42,55,40,"status"],[57,48,55,46],[57,53,55,51],[57,62,55,60],[57,66,55,64,"remainingSeconds"],[57,82,55,80],[57,86,55,84],[57,87,55,85],[58,6,56,4,"isTrialActive"],[58,19,56,17],[58,21,56,19,"subscriptionStatus"],[58,39,56,37],[58,41,56,39,"status"],[58,47,56,45],[58,52,56,50],[58,59,56,57],[58,63,56,61,"remainingSeconds"],[58,79,56,77],[58,82,56,80],[58,83,56,81],[59,6,57,4,"isSubscribed"],[59,18,57,16],[59,20,57,18,"subscriptionStatus"],[59,38,57,36],[59,40,57,38,"status"],[59,46,57,44],[59,51,57,49],[59,59,57,57],[60,6,58,4,"remainingTime"],[60,19,58,17],[60,21,58,19,"formatRemainingTime"],[60,40,58,38],[60,41,58,39],[60,42,58,40],[61,6,59,4,"remainingSeconds"],[61,22,59,20],[62,6,60,4,"checkTrial"],[63,4,61,2],[63,5,61,3],[64,2,62,0],[64,3,62,1],[65,2,62,2,"_s"],[65,4,62,2],[65,5,14,13,"useTrialCheck"],[65,18,14,26],[66,4,14,26],[66,12,15,66,"useStore"],[66,26,15,74],[66,27,15,74,"useStore"],[66,35,15,74],[67,2,15,74],[68,0,15,74],[68,3]],"functionMap":{"names":["<global>","useTrialCheck","checkTrial","useEffect$argument_0","setInterval$argument_0","setRemainingSeconds$argument_0","<anonymous>","formatRemainingTime"],"mappings":"AAA;6BCa;iCCI;GDU;YEE;GFE;YEG;iCCG;0BCC;ODG;KDC;WGE,6BH;GFC;8BME;GNI;CDU"},"hasCjsExports":false},"type":"js/module"}]}