{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../store/useStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":45,"index":103}}],"key":"ASBgiPI21VzTbw57ZrWjZ5L1SH8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":56,"index":160}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useTrialCheck\", {\n    enumerable: true,\n    get: function () {\n      return useTrialCheck;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _storeUseStore = require(_dependencyMap[3], \"../store/useStore\");\n  var _servicesApi = require(_dependencyMap[4], \"../services/api\");\n  var useTrialCheck = () => {\n    _s();\n    var _useStore = (0, _storeUseStore.useStore)(),\n      deviceId = _useStore.deviceId,\n      subscriptionStatus = _useStore.subscriptionStatus,\n      setSubscriptionStatus = _useStore.setSubscriptionStatus;\n    var _useState = (0, _react.useState)(7200),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      remainingSeconds = _useState2[0],\n      setRemainingSeconds = _useState2[1];\n    var checkTrial = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      if (!deviceId) return;\n      try {\n        var status = yield (0, _servicesApi.getSubscriptionStatus)(deviceId);\n        setSubscriptionStatus(status);\n        setRemainingSeconds(status.trial_remaining_seconds || 0);\n      } catch (error) {\n        console.error('Error checking trial status:', error);\n      }\n    }), [deviceId, setSubscriptionStatus]);\n    (0, _react.useEffect)(() => {\n      checkTrial();\n    }, [checkTrial]);\n\n    // Update remaining time every minute\n    (0, _react.useEffect)(() => {\n      if (subscriptionStatus?.status !== 'trial') return;\n      var interval = setInterval(() => {\n        setRemainingSeconds(prev => {\n          var newValue = Math.max(0, prev - 60);\n          return newValue;\n        });\n      }, 60000); // Every minute\n\n      return () => clearInterval(interval);\n    }, [subscriptionStatus?.status]);\n    var formatRemainingTime = () => {\n      var hours = Math.floor(remainingSeconds / 3600);\n      var minutes = Math.floor(remainingSeconds % 3600 / 60);\n      return `${hours}h ${minutes}m`;\n    };\n    return {\n      isTrialExpired: subscriptionStatus?.status === 'expired' || remainingSeconds <= 0,\n      isTrialActive: subscriptionStatus?.status === 'trial' && remainingSeconds > 0,\n      isSubscribed: subscriptionStatus?.status === 'active',\n      remainingTime: formatRemainingTime(),\n      remainingSeconds,\n      checkTrial\n    };\n  };\n  _s(useTrialCheck, \"j34pF9/iAuO4S20GWSBqxUgYPfE=\", false, function () {\n    return [_storeUseStore.useStore];\n  });\n});","lineCount":79,"map":[[13,2,14,0,"Object"],[13,8,14,0],[13,9,14,0,"defineProperty"],[13,23,14,0],[13,24,14,0,"exports"],[13,31,14,0],[14,4,14,0,"enumerable"],[14,14,14,0],[15,4,14,0,"get"],[15,7,14,0],[15,18,14,0,"get"],[15,19,14,0],[16,6,14,0],[16,13,14,0,"useTrialCheck"],[16,26,14,0],[17,4,14,0],[18,2,14,0],[19,2,62,2],[19,6,62,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,62,2],[19,45,62,2,"require"],[19,52,62,2],[19,53,62,2,"_dependencyMap"],[19,67,62,2],[20,2,62,2],[20,6,62,2,"_asyncToGenerator"],[20,23,62,2],[20,26,62,2,"_interopDefault"],[20,41,62,2],[20,42,62,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,62,2],[21,2,62,2],[21,6,62,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,62,2],[21,42,62,2,"require"],[21,49,62,2],[21,50,62,2,"_dependencyMap"],[21,64,62,2],[22,2,62,2],[22,6,62,2,"_slicedToArray"],[22,20,62,2],[22,23,62,2,"_interopDefault"],[22,38,62,2],[22,39,62,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,62,2],[23,2,1,0],[23,6,1,0,"_react"],[23,12,1,0],[23,15,1,0,"require"],[23,22,1,0],[23,23,1,0,"_dependencyMap"],[23,37,1,0],[24,2,2,0],[24,6,2,0,"_storeUseStore"],[24,20,2,0],[24,23,2,0,"require"],[24,30,2,0],[24,31,2,0,"_dependencyMap"],[24,45,2,0],[25,2,3,0],[25,6,3,0,"_servicesApi"],[25,18,3,0],[25,21,3,0,"require"],[25,28,3,0],[25,29,3,0,"_dependencyMap"],[25,43,3,0],[26,2,14,7],[26,6,14,13,"useTrialCheck"],[26,19,14,26],[26,22,14,29,"useTrialCheck"],[26,23,14,29],[26,28,14,53],[27,4,14,53,"_s"],[27,6,14,53],[28,4,15,2],[28,8,15,2,"_useStore"],[28,17,15,2],[28,20,15,66],[28,24,15,66,"useStore"],[28,38,15,74],[28,39,15,74,"useStore"],[28,47,15,74],[28,49,15,75],[28,50,15,76],[29,6,15,10,"deviceId"],[29,14,15,18],[29,17,15,18,"_useStore"],[29,26,15,18],[29,27,15,10,"deviceId"],[29,35,15,18],[30,6,15,20,"subscriptionStatus"],[30,24,15,38],[30,27,15,38,"_useStore"],[30,36,15,38],[30,37,15,20,"subscriptionStatus"],[30,55,15,38],[31,6,15,40,"setSubscriptionStatus"],[31,27,15,61],[31,30,15,61,"_useStore"],[31,39,15,61],[31,40,15,40,"setSubscriptionStatus"],[31,61,15,61],[32,4,16,2],[32,8,16,2,"_useState"],[32,17,16,2],[32,20,16,50],[32,24,16,50,"useState"],[32,30,16,58],[32,31,16,58,"useState"],[32,39,16,58],[32,41,16,59],[32,45,16,63],[32,46,16,64],[33,6,16,64,"_useState2"],[33,16,16,64],[33,23,16,64,"_slicedToArray"],[33,37,16,64],[33,38,16,64,"default"],[33,45,16,64],[33,47,16,64,"_useState"],[33,56,16,64],[34,6,16,9,"remainingSeconds"],[34,22,16,25],[34,25,16,25,"_useState2"],[34,35,16,25],[35,6,16,27,"setRemainingSeconds"],[35,25,16,46],[35,28,16,46,"_useState2"],[35,38,16,46],[36,4,18,2],[36,8,18,8,"checkTrial"],[36,18,18,18],[36,21,18,21],[36,25,18,21,"useCallback"],[36,31,18,32],[36,32,18,32,"useCallback"],[36,43,18,32],[36,62,18,32,"_asyncToGenerator"],[36,79,18,32],[36,80,18,32,"default"],[36,87,18,32],[36,89,18,33],[36,102,18,45],[37,6,19,4],[37,10,19,8],[37,11,19,9,"deviceId"],[37,19,19,17],[37,21,19,19],[38,6,21,4],[38,10,21,8],[39,8,22,6],[39,12,22,12,"status"],[39,18,22,18],[39,27,22,27],[39,31,22,27,"getSubscriptionStatus"],[39,43,22,48],[39,44,22,48,"getSubscriptionStatus"],[39,65,22,48],[39,67,22,49,"deviceId"],[39,75,22,57],[39,76,22,58],[40,8,23,6,"setSubscriptionStatus"],[40,29,23,27],[40,30,23,28,"status"],[40,36,23,34],[40,37,23,35],[41,8,24,6,"setRemainingSeconds"],[41,27,24,25],[41,28,24,26,"status"],[41,34,24,32],[41,35,24,33,"trial_remaining_seconds"],[41,58,24,56],[41,62,24,60],[41,63,24,61],[41,64,24,62],[42,6,25,4],[42,7,25,5],[42,8,25,6],[42,15,25,13,"error"],[42,20,25,18],[42,22,25,20],[43,8,26,6,"console"],[43,15,26,13],[43,16,26,14,"error"],[43,21,26,19],[43,22,26,20],[43,52,26,50],[43,54,26,52,"error"],[43,59,26,57],[43,60,26,58],[44,6,27,4],[45,4,28,2],[45,5,28,3],[45,8,28,5],[45,9,28,6,"deviceId"],[45,17,28,14],[45,19,28,16,"setSubscriptionStatus"],[45,40,28,37],[45,41,28,38],[45,42,28,39],[46,4,30,2],[46,8,30,2,"useEffect"],[46,14,30,11],[46,15,30,11,"useEffect"],[46,24,30,11],[46,26,30,12],[46,32,30,18],[47,6,31,4,"checkTrial"],[47,16,31,14],[47,17,31,15],[47,18,31,16],[48,4,32,2],[48,5,32,3],[48,7,32,5],[48,8,32,6,"checkTrial"],[48,18,32,16],[48,19,32,17],[48,20,32,18],[50,4,34,2],[51,4,35,2],[51,8,35,2,"useEffect"],[51,14,35,11],[51,15,35,11,"useEffect"],[51,24,35,11],[51,26,35,12],[51,32,35,18],[52,6,36,4],[52,10,36,8,"subscriptionStatus"],[52,28,36,26],[52,30,36,28,"status"],[52,36,36,34],[52,41,36,39],[52,48,36,46],[52,50,36,48],[53,6,38,4],[53,10,38,10,"interval"],[53,18,38,18],[53,21,38,21,"setInterval"],[53,32,38,32],[53,33,38,33],[53,39,38,39],[54,8,39,6,"setRemainingSeconds"],[54,27,39,25],[54,28,39,27,"prev"],[54,32,39,31],[54,36,39,36],[55,10,40,8],[55,14,40,14,"newValue"],[55,22,40,22],[55,25,40,25,"Math"],[55,29,40,29],[55,30,40,30,"max"],[55,33,40,33],[55,34,40,34],[55,35,40,35],[55,37,40,37,"prev"],[55,41,40,41],[55,44,40,44],[55,46,40,46],[55,47,40,47],[56,10,41,8],[56,17,41,15,"newValue"],[56,25,41,23],[57,8,42,6],[57,9,42,7],[57,10,42,8],[58,6,43,4],[58,7,43,5],[58,9,43,7],[58,14,43,12],[58,15,43,13],[58,16,43,14],[58,17,43,15],[60,6,45,4],[60,13,45,11],[60,19,45,17,"clearInterval"],[60,32,45,30],[60,33,45,31,"interval"],[60,41,45,39],[60,42,45,40],[61,4,46,2],[61,5,46,3],[61,7,46,5],[61,8,46,6,"subscriptionStatus"],[61,26,46,24],[61,28,46,26,"status"],[61,34,46,32],[61,35,46,33],[61,36,46,34],[62,4,48,2],[62,8,48,8,"formatRemainingTime"],[62,27,48,27],[62,30,48,30,"formatRemainingTime"],[62,31,48,30],[62,36,48,44],[63,6,49,4],[63,10,49,10,"hours"],[63,15,49,15],[63,18,49,18,"Math"],[63,22,49,22],[63,23,49,23,"floor"],[63,28,49,28],[63,29,49,29,"remainingSeconds"],[63,45,49,45],[63,48,49,48],[63,52,49,52],[63,53,49,53],[64,6,50,4],[64,10,50,10,"minutes"],[64,17,50,17],[64,20,50,20,"Math"],[64,24,50,24],[64,25,50,25,"floor"],[64,30,50,30],[64,31,50,32,"remainingSeconds"],[64,47,50,48],[64,50,50,51],[64,54,50,55],[64,57,50,59],[64,59,50,61],[64,60,50,62],[65,6,51,4],[65,13,51,11],[65,16,51,14,"hours"],[65,21,51,19],[65,26,51,24,"minutes"],[65,33,51,31],[65,36,51,34],[66,4,52,2],[66,5,52,3],[67,4,54,2],[67,11,54,9],[68,6,55,4,"isTrialExpired"],[68,20,55,18],[68,22,55,20,"subscriptionStatus"],[68,40,55,38],[68,42,55,40,"status"],[68,48,55,46],[68,53,55,51],[68,62,55,60],[68,66,55,64,"remainingSeconds"],[68,82,55,80],[68,86,55,84],[68,87,55,85],[69,6,56,4,"isTrialActive"],[69,19,56,17],[69,21,56,19,"subscriptionStatus"],[69,39,56,37],[69,41,56,39,"status"],[69,47,56,45],[69,52,56,50],[69,59,56,57],[69,63,56,61,"remainingSeconds"],[69,79,56,77],[69,82,56,80],[69,83,56,81],[70,6,57,4,"isSubscribed"],[70,18,57,16],[70,20,57,18,"subscriptionStatus"],[70,38,57,36],[70,40,57,38,"status"],[70,46,57,44],[70,51,57,49],[70,59,57,57],[71,6,58,4,"remainingTime"],[71,19,58,17],[71,21,58,19,"formatRemainingTime"],[71,40,58,38],[71,41,58,39],[71,42,58,40],[72,6,59,4,"remainingSeconds"],[72,22,59,20],[73,6,60,4,"checkTrial"],[74,4,61,2],[74,5,61,3],[75,2,62,0],[75,3,62,1],[76,2,62,2,"_s"],[76,4,62,2],[76,5,14,13,"useTrialCheck"],[76,18,14,26],[77,4,14,26],[77,12,15,66,"useStore"],[77,26,15,74],[77,27,15,74,"useStore"],[77,35,15,74],[78,2,15,74],[79,0,15,74],[79,3]],"functionMap":{"names":["<global>","useTrialCheck","checkTrial","useEffect$argument_0","setInterval$argument_0","setRemainingSeconds$argument_0","<anonymous>","formatRemainingTime"],"mappings":"AAA;6BCa;iCCI;GDU;YEE;GFE;YEG;iCCG;0BCC;ODG;KDC;WGE,6BH;GFC;8BME;GNI;CDU"},"hasCjsExports":false},"type":"js/module"}]}