{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../store/useStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":45,"index":103}}],"key":"ASBgiPI21VzTbw57ZrWjZ5L1SH8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":56,"index":160}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useTrialCheck\", {\n    enumerable: true,\n    get: function () {\n      return useTrialCheck;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _storeUseStore = require(_dependencyMap[1], \"../store/useStore\");\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  const useTrialCheck = () => {\n    const {\n      deviceId,\n      subscriptionStatus,\n      setSubscriptionStatus\n    } = (0, _storeUseStore.useStore)();\n    const [remainingSeconds, setRemainingSeconds] = (0, _react.useState)(7200);\n    const checkTrial = (0, _react.useCallback)(async () => {\n      if (!deviceId) return;\n      try {\n        const status = await (0, _servicesApi.getSubscriptionStatus)(deviceId);\n        setSubscriptionStatus(status);\n        setRemainingSeconds(status.trial_remaining_seconds || 0);\n      } catch (error) {\n        console.error('Error checking trial status:', error);\n      }\n    }, [deviceId, setSubscriptionStatus]);\n    (0, _react.useEffect)(() => {\n      checkTrial();\n    }, [checkTrial]);\n\n    // Update remaining time every minute\n    (0, _react.useEffect)(() => {\n      if (subscriptionStatus?.status !== 'trial') return;\n      const interval = setInterval(() => {\n        setRemainingSeconds(prev => {\n          const newValue = Math.max(0, prev - 60);\n          return newValue;\n        });\n      }, 60000); // Every minute\n\n      return () => clearInterval(interval);\n    }, [subscriptionStatus?.status]);\n    const formatRemainingTime = () => {\n      const hours = Math.floor(remainingSeconds / 3600);\n      const minutes = Math.floor(remainingSeconds % 3600 / 60);\n      return `${hours}h ${minutes}m`;\n    };\n    return {\n      isTrialExpired: subscriptionStatus?.status === 'expired' || remainingSeconds <= 0,\n      isTrialActive: subscriptionStatus?.status === 'trial' && remainingSeconds > 0,\n      isSubscribed: subscriptionStatus?.status === 'active',\n      remainingTime: formatRemainingTime(),\n      remainingSeconds,\n      checkTrial\n    };\n  };\n});","lineCount":63,"map":[[7,2,14,0,"Object"],[7,8,14,0],[7,9,14,0,"defineProperty"],[7,23,14,0],[7,24,14,0,"exports"],[7,31,14,0],[8,4,14,0,"enumerable"],[8,14,14,0],[9,4,14,0,"get"],[9,7,14,0],[9,18,14,0,"get"],[9,19,14,0],[10,6,14,0],[10,13,14,0,"useTrialCheck"],[10,26,14,0],[11,4,14,0],[12,2,14,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_storeUseStore"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,0,"_servicesApi"],[15,18,3,0],[15,21,3,0,"require"],[15,28,3,0],[15,29,3,0,"_dependencyMap"],[15,43,3,0],[16,2,14,7],[16,8,14,13,"useTrialCheck"],[16,21,14,26],[16,24,14,29,"useTrialCheck"],[16,25,14,29],[16,30,14,53],[17,4,15,2],[17,10,15,8],[18,6,15,10,"deviceId"],[18,14,15,18],[19,6,15,20,"subscriptionStatus"],[19,24,15,38],[20,6,15,40,"setSubscriptionStatus"],[21,4,15,62],[21,5,15,63],[21,8,15,66],[21,12,15,66,"useStore"],[21,26,15,74],[21,27,15,74,"useStore"],[21,35,15,74],[21,37,15,75],[21,38,15,76],[22,4,16,2],[22,10,16,8],[22,11,16,9,"remainingSeconds"],[22,27,16,25],[22,29,16,27,"setRemainingSeconds"],[22,48,16,46],[22,49,16,47],[22,52,16,50],[22,56,16,50,"useState"],[22,62,16,58],[22,63,16,58,"useState"],[22,71,16,58],[22,73,16,59],[22,77,16,63],[22,78,16,64],[23,4,18,2],[23,10,18,8,"checkTrial"],[23,20,18,18],[23,23,18,21],[23,27,18,21,"useCallback"],[23,33,18,32],[23,34,18,32,"useCallback"],[23,45,18,32],[23,47,18,33],[23,59,18,45],[24,6,19,4],[24,10,19,8],[24,11,19,9,"deviceId"],[24,19,19,17],[24,21,19,19],[25,6,21,4],[25,10,21,8],[26,8,22,6],[26,14,22,12,"status"],[26,20,22,18],[26,23,22,21],[26,29,22,27],[26,33,22,27,"getSubscriptionStatus"],[26,45,22,48],[26,46,22,48,"getSubscriptionStatus"],[26,67,22,48],[26,69,22,49,"deviceId"],[26,77,22,57],[26,78,22,58],[27,8,23,6,"setSubscriptionStatus"],[27,29,23,27],[27,30,23,28,"status"],[27,36,23,34],[27,37,23,35],[28,8,24,6,"setRemainingSeconds"],[28,27,24,25],[28,28,24,26,"status"],[28,34,24,32],[28,35,24,33,"trial_remaining_seconds"],[28,58,24,56],[28,62,24,60],[28,63,24,61],[28,64,24,62],[29,6,25,4],[29,7,25,5],[29,8,25,6],[29,15,25,13,"error"],[29,20,25,18],[29,22,25,20],[30,8,26,6,"console"],[30,15,26,13],[30,16,26,14,"error"],[30,21,26,19],[30,22,26,20],[30,52,26,50],[30,54,26,52,"error"],[30,59,26,57],[30,60,26,58],[31,6,27,4],[32,4,28,2],[32,5,28,3],[32,7,28,5],[32,8,28,6,"deviceId"],[32,16,28,14],[32,18,28,16,"setSubscriptionStatus"],[32,39,28,37],[32,40,28,38],[32,41,28,39],[33,4,30,2],[33,8,30,2,"useEffect"],[33,14,30,11],[33,15,30,11,"useEffect"],[33,24,30,11],[33,26,30,12],[33,32,30,18],[34,6,31,4,"checkTrial"],[34,16,31,14],[34,17,31,15],[34,18,31,16],[35,4,32,2],[35,5,32,3],[35,7,32,5],[35,8,32,6,"checkTrial"],[35,18,32,16],[35,19,32,17],[35,20,32,18],[37,4,34,2],[38,4,35,2],[38,8,35,2,"useEffect"],[38,14,35,11],[38,15,35,11,"useEffect"],[38,24,35,11],[38,26,35,12],[38,32,35,18],[39,6,36,4],[39,10,36,8,"subscriptionStatus"],[39,28,36,26],[39,30,36,28,"status"],[39,36,36,34],[39,41,36,39],[39,48,36,46],[39,50,36,48],[40,6,38,4],[40,12,38,10,"interval"],[40,20,38,18],[40,23,38,21,"setInterval"],[40,34,38,32],[40,35,38,33],[40,41,38,39],[41,8,39,6,"setRemainingSeconds"],[41,27,39,25],[41,28,39,27,"prev"],[41,32,39,31],[41,36,39,36],[42,10,40,8],[42,16,40,14,"newValue"],[42,24,40,22],[42,27,40,25,"Math"],[42,31,40,29],[42,32,40,30,"max"],[42,35,40,33],[42,36,40,34],[42,37,40,35],[42,39,40,37,"prev"],[42,43,40,41],[42,46,40,44],[42,48,40,46],[42,49,40,47],[43,10,41,8],[43,17,41,15,"newValue"],[43,25,41,23],[44,8,42,6],[44,9,42,7],[44,10,42,8],[45,6,43,4],[45,7,43,5],[45,9,43,7],[45,14,43,12],[45,15,43,13],[45,16,43,14],[45,17,43,15],[47,6,45,4],[47,13,45,11],[47,19,45,17,"clearInterval"],[47,32,45,30],[47,33,45,31,"interval"],[47,41,45,39],[47,42,45,40],[48,4,46,2],[48,5,46,3],[48,7,46,5],[48,8,46,6,"subscriptionStatus"],[48,26,46,24],[48,28,46,26,"status"],[48,34,46,32],[48,35,46,33],[48,36,46,34],[49,4,48,2],[49,10,48,8,"formatRemainingTime"],[49,29,48,27],[49,32,48,30,"formatRemainingTime"],[49,33,48,30],[49,38,48,44],[50,6,49,4],[50,12,49,10,"hours"],[50,17,49,15],[50,20,49,18,"Math"],[50,24,49,22],[50,25,49,23,"floor"],[50,30,49,28],[50,31,49,29,"remainingSeconds"],[50,47,49,45],[50,50,49,48],[50,54,49,52],[50,55,49,53],[51,6,50,4],[51,12,50,10,"minutes"],[51,19,50,17],[51,22,50,20,"Math"],[51,26,50,24],[51,27,50,25,"floor"],[51,32,50,30],[51,33,50,32,"remainingSeconds"],[51,49,50,48],[51,52,50,51],[51,56,50,55],[51,59,50,59],[51,61,50,61],[51,62,50,62],[52,6,51,4],[52,13,51,11],[52,16,51,14,"hours"],[52,21,51,19],[52,26,51,24,"minutes"],[52,33,51,31],[52,36,51,34],[53,4,52,2],[53,5,52,3],[54,4,54,2],[54,11,54,9],[55,6,55,4,"isTrialExpired"],[55,20,55,18],[55,22,55,20,"subscriptionStatus"],[55,40,55,38],[55,42,55,40,"status"],[55,48,55,46],[55,53,55,51],[55,62,55,60],[55,66,55,64,"remainingSeconds"],[55,82,55,80],[55,86,55,84],[55,87,55,85],[56,6,56,4,"isTrialActive"],[56,19,56,17],[56,21,56,19,"subscriptionStatus"],[56,39,56,37],[56,41,56,39,"status"],[56,47,56,45],[56,52,56,50],[56,59,56,57],[56,63,56,61,"remainingSeconds"],[56,79,56,77],[56,82,56,80],[56,83,56,81],[57,6,57,4,"isSubscribed"],[57,18,57,16],[57,20,57,18,"subscriptionStatus"],[57,38,57,36],[57,40,57,38,"status"],[57,46,57,44],[57,51,57,49],[57,59,57,57],[58,6,58,4,"remainingTime"],[58,19,58,17],[58,21,58,19,"formatRemainingTime"],[58,40,58,38],[58,41,58,39],[58,42,58,40],[59,6,59,4,"remainingSeconds"],[59,22,59,20],[60,6,60,4,"checkTrial"],[61,4,61,2],[61,5,61,3],[62,2,62,0],[62,3,62,1],[63,0,62,2],[63,3]],"functionMap":{"names":["<global>","useTrialCheck","checkTrial","useEffect$argument_0","setInterval$argument_0","setRemainingSeconds$argument_0","<anonymous>","formatRemainingTime"],"mappings":"AAA;6BCa;iCCI;GDU;YEE;GFE;YEG;iCCG;0BCC;ODG;KDC;WGE,6BH;GFC;8BME;GNI;CDU"},"hasCjsExports":false},"type":"js/module"}]}