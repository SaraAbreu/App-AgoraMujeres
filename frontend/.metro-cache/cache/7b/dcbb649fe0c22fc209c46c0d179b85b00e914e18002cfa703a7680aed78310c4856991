{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../store/useStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":45,"index":103}}],"key":"ASBgiPI21VzTbw57ZrWjZ5L1SH8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":56,"index":160}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useTrialCheck\", {\n    enumerable: true,\n    get: function () {\n      return useTrialCheck;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _storeUseStore = require(_dependencyMap[3]);\n  var _servicesApi = require(_dependencyMap[4]);\n  var useTrialCheck = () => {\n    var _useStore = (0, _storeUseStore.useStore)(),\n      deviceId = _useStore.deviceId,\n      subscriptionStatus = _useStore.subscriptionStatus,\n      setSubscriptionStatus = _useStore.setSubscriptionStatus;\n    var _useState = (0, _react.useState)(7200),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      remainingSeconds = _useState2[0],\n      setRemainingSeconds = _useState2[1];\n    var checkTrial = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      if (!deviceId) return;\n      try {\n        var status = yield (0, _servicesApi.getSubscriptionStatus)(deviceId);\n        setSubscriptionStatus(status);\n        setRemainingSeconds(status.trial_remaining_seconds || 0);\n      } catch (error) {\n        console.error('Error checking trial status:', error);\n      }\n    }), [deviceId, setSubscriptionStatus]);\n    (0, _react.useEffect)(() => {\n      checkTrial();\n    }, [checkTrial]);\n\n    // Update remaining time every minute\n    (0, _react.useEffect)(() => {\n      if (subscriptionStatus?.status !== 'trial') return;\n      var interval = setInterval(() => {\n        setRemainingSeconds(prev => {\n          var newValue = Math.max(0, prev - 60);\n          return newValue;\n        });\n      }, 60000); // Every minute\n\n      return () => clearInterval(interval);\n    }, [subscriptionStatus?.status]);\n    var formatRemainingTime = () => {\n      var hours = Math.floor(remainingSeconds / 3600);\n      var minutes = Math.floor(remainingSeconds % 3600 / 60);\n      return `${hours}h ${minutes}m`;\n    };\n    return {\n      isTrialExpired: subscriptionStatus?.status === 'expired' || remainingSeconds <= 0,\n      isTrialActive: subscriptionStatus?.status === 'trial' && remainingSeconds > 0,\n      isSubscribed: subscriptionStatus?.status === 'active',\n      remainingTime: formatRemainingTime(),\n      remainingSeconds,\n      checkTrial\n    };\n  };\n});","lineCount":74,"map":[[12,2,14,0,"Object"],[12,8,14,0],[12,9,14,0,"defineProperty"],[12,23,14,0],[12,24,14,0,"exports"],[12,31,14,0],[13,4,14,0,"enumerable"],[13,14,14,0],[14,4,14,0,"get"],[14,7,14,0],[14,18,14,0,"get"],[14,19,14,0],[15,6,14,0],[15,13,14,0,"useTrialCheck"],[15,26,14,0],[16,4,14,0],[17,2,14,0],[18,2,62,2],[18,6,62,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,62,2],[18,45,62,2,"require"],[18,52,62,2],[18,53,62,2,"_dependencyMap"],[18,67,62,2],[19,2,62,2],[19,6,62,2,"_asyncToGenerator"],[19,23,62,2],[19,26,62,2,"_interopDefault"],[19,41,62,2],[19,42,62,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,62,2],[20,2,62,2],[20,6,62,2,"_babelRuntimeHelpersSlicedToArray"],[20,39,62,2],[20,42,62,2,"require"],[20,49,62,2],[20,50,62,2,"_dependencyMap"],[20,64,62,2],[21,2,62,2],[21,6,62,2,"_slicedToArray"],[21,20,62,2],[21,23,62,2,"_interopDefault"],[21,38,62,2],[21,39,62,2,"_babelRuntimeHelpersSlicedToArray"],[21,72,62,2],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_storeUseStore"],[23,20,2,0],[23,23,2,0,"require"],[23,30,2,0],[23,31,2,0,"_dependencyMap"],[23,45,2,0],[24,2,3,0],[24,6,3,0,"_servicesApi"],[24,18,3,0],[24,21,3,0,"require"],[24,28,3,0],[24,29,3,0,"_dependencyMap"],[24,43,3,0],[25,2,14,7],[25,6,14,13,"useTrialCheck"],[25,19,14,26],[25,22,14,29,"useTrialCheck"],[25,23,14,29],[25,28,14,53],[26,4,15,2],[26,8,15,2,"_useStore"],[26,17,15,2],[26,20,15,66],[26,24,15,66,"useStore"],[26,38,15,74],[26,39,15,74,"useStore"],[26,47,15,74],[26,49,15,75],[26,50,15,76],[27,6,15,10,"deviceId"],[27,14,15,18],[27,17,15,18,"_useStore"],[27,26,15,18],[27,27,15,10,"deviceId"],[27,35,15,18],[28,6,15,20,"subscriptionStatus"],[28,24,15,38],[28,27,15,38,"_useStore"],[28,36,15,38],[28,37,15,20,"subscriptionStatus"],[28,55,15,38],[29,6,15,40,"setSubscriptionStatus"],[29,27,15,61],[29,30,15,61,"_useStore"],[29,39,15,61],[29,40,15,40,"setSubscriptionStatus"],[29,61,15,61],[30,4,16,2],[30,8,16,2,"_useState"],[30,17,16,2],[30,20,16,50],[30,24,16,50,"useState"],[30,30,16,58],[30,31,16,58,"useState"],[30,39,16,58],[30,41,16,59],[30,45,16,63],[30,46,16,64],[31,6,16,64,"_useState2"],[31,16,16,64],[31,23,16,64,"_slicedToArray"],[31,37,16,64],[31,38,16,64,"default"],[31,45,16,64],[31,47,16,64,"_useState"],[31,56,16,64],[32,6,16,9,"remainingSeconds"],[32,22,16,25],[32,25,16,25,"_useState2"],[32,35,16,25],[33,6,16,27,"setRemainingSeconds"],[33,25,16,46],[33,28,16,46,"_useState2"],[33,38,16,46],[34,4,18,2],[34,8,18,8,"checkTrial"],[34,18,18,18],[34,21,18,21],[34,25,18,21,"useCallback"],[34,31,18,32],[34,32,18,32,"useCallback"],[34,43,18,32],[34,62,18,32,"_asyncToGenerator"],[34,79,18,32],[34,80,18,32,"default"],[34,87,18,32],[34,89,18,33],[34,102,18,45],[35,6,19,4],[35,10,19,8],[35,11,19,9,"deviceId"],[35,19,19,17],[35,21,19,19],[36,6,21,4],[36,10,21,8],[37,8,22,6],[37,12,22,12,"status"],[37,18,22,18],[37,27,22,27],[37,31,22,27,"getSubscriptionStatus"],[37,43,22,48],[37,44,22,48,"getSubscriptionStatus"],[37,65,22,48],[37,67,22,49,"deviceId"],[37,75,22,57],[37,76,22,58],[38,8,23,6,"setSubscriptionStatus"],[38,29,23,27],[38,30,23,28,"status"],[38,36,23,34],[38,37,23,35],[39,8,24,6,"setRemainingSeconds"],[39,27,24,25],[39,28,24,26,"status"],[39,34,24,32],[39,35,24,33,"trial_remaining_seconds"],[39,58,24,56],[39,62,24,60],[39,63,24,61],[39,64,24,62],[40,6,25,4],[40,7,25,5],[40,8,25,6],[40,15,25,13,"error"],[40,20,25,18],[40,22,25,20],[41,8,26,6,"console"],[41,15,26,13],[41,16,26,14,"error"],[41,21,26,19],[41,22,26,20],[41,52,26,50],[41,54,26,52,"error"],[41,59,26,57],[41,60,26,58],[42,6,27,4],[43,4,28,2],[43,5,28,3],[43,8,28,5],[43,9,28,6,"deviceId"],[43,17,28,14],[43,19,28,16,"setSubscriptionStatus"],[43,40,28,37],[43,41,28,38],[43,42,28,39],[44,4,30,2],[44,8,30,2,"useEffect"],[44,14,30,11],[44,15,30,11,"useEffect"],[44,24,30,11],[44,26,30,12],[44,32,30,18],[45,6,31,4,"checkTrial"],[45,16,31,14],[45,17,31,15],[45,18,31,16],[46,4,32,2],[46,5,32,3],[46,7,32,5],[46,8,32,6,"checkTrial"],[46,18,32,16],[46,19,32,17],[46,20,32,18],[48,4,34,2],[49,4,35,2],[49,8,35,2,"useEffect"],[49,14,35,11],[49,15,35,11,"useEffect"],[49,24,35,11],[49,26,35,12],[49,32,35,18],[50,6,36,4],[50,10,36,8,"subscriptionStatus"],[50,28,36,26],[50,30,36,28,"status"],[50,36,36,34],[50,41,36,39],[50,48,36,46],[50,50,36,48],[51,6,38,4],[51,10,38,10,"interval"],[51,18,38,18],[51,21,38,21,"setInterval"],[51,32,38,32],[51,33,38,33],[51,39,38,39],[52,8,39,6,"setRemainingSeconds"],[52,27,39,25],[52,28,39,27,"prev"],[52,32,39,31],[52,36,39,36],[53,10,40,8],[53,14,40,14,"newValue"],[53,22,40,22],[53,25,40,25,"Math"],[53,29,40,29],[53,30,40,30,"max"],[53,33,40,33],[53,34,40,34],[53,35,40,35],[53,37,40,37,"prev"],[53,41,40,41],[53,44,40,44],[53,46,40,46],[53,47,40,47],[54,10,41,8],[54,17,41,15,"newValue"],[54,25,41,23],[55,8,42,6],[55,9,42,7],[55,10,42,8],[56,6,43,4],[56,7,43,5],[56,9,43,7],[56,14,43,12],[56,15,43,13],[56,16,43,14],[56,17,43,15],[58,6,45,4],[58,13,45,11],[58,19,45,17,"clearInterval"],[58,32,45,30],[58,33,45,31,"interval"],[58,41,45,39],[58,42,45,40],[59,4,46,2],[59,5,46,3],[59,7,46,5],[59,8,46,6,"subscriptionStatus"],[59,26,46,24],[59,28,46,26,"status"],[59,34,46,32],[59,35,46,33],[59,36,46,34],[60,4,48,2],[60,8,48,8,"formatRemainingTime"],[60,27,48,27],[60,30,48,30,"formatRemainingTime"],[60,31,48,30],[60,36,48,44],[61,6,49,4],[61,10,49,10,"hours"],[61,15,49,15],[61,18,49,18,"Math"],[61,22,49,22],[61,23,49,23,"floor"],[61,28,49,28],[61,29,49,29,"remainingSeconds"],[61,45,49,45],[61,48,49,48],[61,52,49,52],[61,53,49,53],[62,6,50,4],[62,10,50,10,"minutes"],[62,17,50,17],[62,20,50,20,"Math"],[62,24,50,24],[62,25,50,25,"floor"],[62,30,50,30],[62,31,50,32,"remainingSeconds"],[62,47,50,48],[62,50,50,51],[62,54,50,55],[62,57,50,59],[62,59,50,61],[62,60,50,62],[63,6,51,4],[63,13,51,11],[63,16,51,14,"hours"],[63,21,51,19],[63,26,51,24,"minutes"],[63,33,51,31],[63,36,51,34],[64,4,52,2],[64,5,52,3],[65,4,54,2],[65,11,54,9],[66,6,55,4,"isTrialExpired"],[66,20,55,18],[66,22,55,20,"subscriptionStatus"],[66,40,55,38],[66,42,55,40,"status"],[66,48,55,46],[66,53,55,51],[66,62,55,60],[66,66,55,64,"remainingSeconds"],[66,82,55,80],[66,86,55,84],[66,87,55,85],[67,6,56,4,"isTrialActive"],[67,19,56,17],[67,21,56,19,"subscriptionStatus"],[67,39,56,37],[67,41,56,39,"status"],[67,47,56,45],[67,52,56,50],[67,59,56,57],[67,63,56,61,"remainingSeconds"],[67,79,56,77],[67,82,56,80],[67,83,56,81],[68,6,57,4,"isSubscribed"],[68,18,57,16],[68,20,57,18,"subscriptionStatus"],[68,38,57,36],[68,40,57,38,"status"],[68,46,57,44],[68,51,57,49],[68,59,57,57],[69,6,58,4,"remainingTime"],[69,19,58,17],[69,21,58,19,"formatRemainingTime"],[69,40,58,38],[69,41,58,39],[69,42,58,40],[70,6,59,4,"remainingSeconds"],[70,22,59,20],[71,6,60,4,"checkTrial"],[72,4,61,2],[72,5,61,3],[73,2,62,0],[73,3,62,1],[74,0,62,2],[74,3]],"functionMap":{"names":["<global>","useTrialCheck","checkTrial","useEffect$argument_0","setInterval$argument_0","setRemainingSeconds$argument_0","<anonymous>","formatRemainingTime"],"mappings":"AAA;6BCa;iCCI;GDU;YEE;GFE;YEG;iCCG;0BCC;ODG;KDC;WGE,6BH;GFC;8BME;GNI;CDU"},"hasCjsExports":false},"type":"js/module"}]}